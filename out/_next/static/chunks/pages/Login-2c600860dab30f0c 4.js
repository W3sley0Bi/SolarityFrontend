(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{154:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var n=a(7294),s=a(88),i=a(6212);let r=(0,i.zo)("div",{float:"left",boxSizing:"border-box",pl:"calc($$rowGap / 2)",pr:"calc($$rowGap / 2)"});var l=a(5893);let o=({children:t,span:e,offset:a,css:n,...s})=>(0,l.jsx)(r,{css:{width:100/12*e+"%",marginLeft:100/12*a+"%",...n},...s,children:t});o.toString=()=>".nextui-column";let c=n.memo(o);var u=(0,s.Z)(c,{span:12,offset:0})},3165:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=a(7294),s=a(2903),i=a(6212);let r=(0,i.zo)("div",{w:"100%",mr:"auto",ml:"auto",variants:{fluid:{true:{maxWidth:"100%"}},responsive:{true:{"@xs":{maxWidth:"$breakpoints$xs"},"@sm":{maxWidth:"$breakpoints$sm"},"@md":{maxWidth:"$breakpoints$md"},"@lg":{maxWidth:"$breakpoints$lg"},"@xl":{maxWidth:"$breakpoints$xl"}}}},defaultVariants:{fluid:!1,responsive:!0}});var l=a(5893);let o=n.forwardRef((t,e)=>{let{xs:a,sm:i,md:o,lg:c,xl:u,wrap:d,gap:p,as:f,display:g,justify:h,direction:m,alignItems:x,alignContent:w,children:$,responsive:v,fluid:y,css:b,...k}=t,j=(0,s.gy)(e),Z=(0,n.useMemo)(()=>`calc(${p} * $space$sm)`,[p]);return(0,l.jsx)(r,{ref:j,as:f,css:{px:Z,maxWidth:a?"$breakpoints$xs":i?"$breakpoints$sm":o?"$breakpoints$md":c?"$breakpoints$lg":u?"$breakpoints$xl":"",alignItems:x,alignContent:w,flexWrap:d,display:g,justifyContent:h,flexDirection:m,...b},fluid:y,responsive:v,...k,children:$})});o.displayName="NextUI.Container",o.toString=()=>".nextui-container",o.defaultProps={gap:2,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,responsive:!0,fluid:!1,wrap:"wrap",as:"div",display:"block"};var c=n.memo(o)},4040:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var n=a(7294),s=a(88),i=a(6212);let r=(0,i.zo)("div",{display:"flex",position:"relative",boxSizing:"border-box",variants:{fluid:{true:{width:"100%"}}},defaultVariants:{fluid:!0}});var l=a(5893);let o=({children:t,gap:e,justify:a,align:n,wrap:s,css:i,...o})=>(0,l.jsx)(r,{css:{flexWrap:s,$$rowGap:`calc(${e} * $space$lg)`,marginLeft:`calc(${e} * $space$lg / 2)`,marginRight:`calc(${e} * $space$lg / 2)`,justifyContent:a,alignItems:n,...i},...o,children:t});o.toString=()=>".nextui-row";let c=n.memo(o);var u=(0,s.Z)(c,{gap:0,wrap:"nowrap",justify:"flex-start",align:"flex-start"})},945:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Login",function(){return a(6347)}])},3462:function(t,e,a){"use strict";a.r(e),a.d(e,{fetchFun:function(){return n}});let n=async(t,e,a,n)=>{let s;switch(e){case"GET":s=await fetch("".concat("https://sparkling-sweatpants-colt.cyclic.app").concat(t),{method:"".concat(e),headers:{authorization:n}});break;case"POST":s=await fetch("".concat("https://sparkling-sweatpants-colt.cyclic.app").concat(t),{method:"".concat(e),headers:{authorization:n,"Content-Type":"application/json"},body:JSON.stringify(a)})}return s.ok?await s.json():s.status}},9022:function(t,e,a){"use strict";a.d(e,{L2:function(){return n},d7:function(){return s}});let n=async t=>/^[a-zA-Z0-9_]{3,16}$/.test(t)?"success":(console.log("invalid ".concat(t)),"error"),s=async t=>"success"},6347:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return w}});var n=a(5893),s=a(7294),i=a(1163),r=a(6562),l=a(7690),o=a(6249),c=a(3165),u=a(154),d=a(8723),p=a(4040),f=a(1649),g=a(2179),h=a(3462);let m=async(t,e,a,n,s,i)=>(await localStorage.setItem("token",e),await t((0,g.o4)(e)),await localStorage.setItem("uid",1*a),await t((0,g.qS)(a)),await localStorage.setItem("role",1*n),await t((0,g.gD)(n)),window.location.replace("/"));var x=a(9022);function w(){let[t,e]=(0,s.useState)(""),[a,w]=(0,s.useState)(""),[$,v]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),k=(0,i.useRouter)(),{theme:j}=(0,o.Z)(),Z=(0,f.v9)(t=>t.token.value),S=(0,f.I0)();(0,s.useEffect)(()=>{(async()=>{let t=await (0,h.fetchFun)("/workers","GET",{},Z);401!==t&&(S((0,g.o4)(Z)),k.push("/"))})()},[]);let C=async()=>{if("error"==(0,x.L2)(t)&&"error"==inputCheckPassword(t)||""==t&&""==a)alert("Input values not valid");else{let e=await (0,h.fetchFun)("/login","POST",{username:t,password:a},Z);console.log(e),401==e?alert("User not found in the DB or wrong input data"):m(S,e.token,e.userData.Uid,e.userData.Role)}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"96%"},children:(0,n.jsx)(c.Z,{gap:0,style:{color:j.colors.primary.value,margin:"auto"},children:(0,n.jsxs)(u.Z,{align:"center",children:[(0,n.jsx)("h1",{children:"Login"}),(0,n.jsx)(d.Z,{y:2}),(0,n.jsxs)(p.Z,{gap:1,children:[(0,n.jsx)(u.Z,{align:"right",children:(0,n.jsx)(r.ZP,{className:"element",labelPlaceholder:"Username",value:t,bordered:!0,status:$,onBlur:async()=>v(await (0,x.L2)(t)),onChange:t=>e(t.target.value)})}),(0,n.jsx)(u.Z,{align:"left",children:(0,n.jsx)(r.ZP.Password,{className:"element",labelPlaceholder:"Password",value:a,bordered:!0,status:y,onBlur:async()=>b(await (0,x.d7)(a)),onChange:t=>w(t.target.value)})})]}),(0,n.jsx)(d.Z,{y:1}),(0,n.jsxs)(l.ZP,{className:"element",onClick:C,children:[" ","Login"," "]})]})})})})}}},function(t){t.O(0,[676,562,774,888,179],function(){return t(t.s=945)}),_N_E=t.O()}]);