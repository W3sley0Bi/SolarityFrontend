(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{5141:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userFolder/[Uid]/[FolderContent]",function(){return t(4889)}])},643:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});var n=t(5893);function a(){return(0,n.jsxs)("div",{style:{justifyContent:"center",display:"grid",marginTop:"20%"},children:[(0,n.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/7486/7486766.png ",height:100,width:100,alt:""}),(0,n.jsx)("p",{children:"no data in here"})]})}},9348:function(e,i,t){"use strict";t.d(i,{Z:function(){return c}});var n=t(5893);t(7294);var a=t(7690),s=t(1163);function c(e){let i=(0,s.useRouter)(),t=()=>{i.push(e.route)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)(a.ZP,{disabled:e.disabled,onClick:t,children:[" ",e.children," "]})},e.key)})}},4355:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let n=t(3462);async function a(e,i){confirm("Are you sure you wanna cancel it?")&&(await (0,n.fetchFun)("/deleteFile","POST",{idFile:e},i),location.reload())}e.exports={deleteFile:a}},4889:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return F}});var n=t(5893),a=t(7294),s=t(1163),c=t(7143),l=t(2270),r=t(9748),o=t(8723),d=t(3165),u=t(4040),f=t(6979),p=t(7690),g=t(2741),h=t(1649),m=t(8881),x=t(643),j=t(4355);function y(e){let{setVisible:i,bindings:t}=(0,c.Z)(),[s,g]=(0,a.useState)(),[y,w]=(0,a.useState)(),v=(0,h.v9)(e=>e.token.value);(0,h.v9)(e=>e.uid.value);let F=(0,h.v9)(e=>e.role.value),[_,b]=(0,a.useState)(),[Z,k]=(0,a.useState)((0,n.jsx)(m.Z,{})),[S,P]=(0,a.useState)(0),[C,R]=(0,a.useState)(1);function E(e){let{numPages:i}=e;P(i)}(0,a.useMemo)(()=>{r.v0.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(r.v0.version,"/pdf.worker.js"),1==F&&b((0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{y:.5}),(0,n.jsx)("img",{onClick:()=>(0,j.deleteFile)(e.idFile,v),src:"https://cdn-icons-png.flaticon.com/512/1828/1828851.png",width:"50px",height:"50px",alt:"delete"})]})),(async()=>{switch(k(null),e.file_type){case"image/jpeg":case"image/jpg":case"image/png":case"image/gif":case"image/tiff":case"image/webp":case"image/svg+xml":case"image/bmp":case"image/x-icon":case"image/heif":case"image/heic":await w("https://cdn-icons-png.flaticon.com/512/1829/1829586.png");break;case"application/pdf":await w("https://cdn-icons-png.flaticon.com/512/337/337946.png");break;default:await w("https://cdn-icons-png.flaticon.com/512/4725/4725544.png")}})()},[]);let N=async(e,t,a,s)=>{i(!0);try{let e=new Blob([new Uint8Array(a.data)],{type:s}),i=URL.createObjectURL(e);switch(console.log(i),console.log(s),s){case"application/pdf":if(console.log(navigator.platform),navigator.platform.startsWith("Win")||navigator.platform.startsWith("Mac"))return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("iframe",{src:i,height:"100%",width:"100%"})});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(r.BB,{file:i,onLoadSuccess:E,children:Array.from(Array(S),(e,i)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.T3,{wrap:!1,pageNumber:i+1},"page_".concat(i+1)),(0,n.jsxs)("p",{children:["Page ",i+1," of ",S]})]}))})});case"image/jpeg":case"image/jpg":case"image/png":case"image/gif":case"image/tiff":case"image/webp":case"image/svg+xml":case"image/bmp":case"image/x-icon":case"image/heif":case"image/heic":return(0,n.jsx)("img",{src:i});default:return(0,n.jsx)("h1",{children:"file format not supported yet"})}}catch(e){}};return(0,n.jsxs)("div",{children:[Z,e.file_name?(0,n.jsx)(d.Z,{gap:2,style:{flexDirection:"column"},children:(0,n.jsxs)(u.Z,{children:[(0,n.jsxs)(d.Z,{onClick:async()=>g(await N(e.idFile,e.file_name,e.file_data,e.file_type)),style:{backgroundColor:"#1F2122",borderRadius:"15px",marginBottom:"10px",flexDirection:"row",display:"flex"},children:[(0,n.jsx)("img",{src:y,style:{width:"50px",marginRight:"10%",margin:"2%"}}),(0,n.jsxs)("div",{style:{flexDirection:"column",display:"flex",justifyContent:"center"},children:[(0,n.jsxs)("p",{style:{color:"white"},children:["ID: ",e.idFile]}),(0,n.jsxs)("p",{style:{color:"white",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"40vw"},children:["Name: ",e.file_name]})]})]}),_]})},e.idFile):(0,n.jsx)(x.Z,{}),(0,n.jsxs)(l.ZP,{scroll:!0,fullScreen:!0,closeButton:!0,"aria-labelledby":"modal-title","aria-describedby":"modal-description",...t,children:[(0,n.jsx)(l.ZP.Header,{children:(0,n.jsx)(f.Z,{id:"modal-title",size:18,children:e.file_name})}),(0,n.jsx)(l.ZP.Body,{children:s}),(0,n.jsx)(l.ZP.Footer,{children:(0,n.jsx)(p.ZP,{flat:!0,auto:!0,color:"error",onPress:()=>i(!1),children:"Close"})})]})]})}var w=t(3462),v=t(9348);function F(){let e=(0,s.useRouter)(),{Uid:i,FolderContent:t}=e.query,[c,l]=(0,a.useState)((0,n.jsx)(m.Z,{})),[r,o]=(0,a.useState)(),[u,f]=(0,a.useState)(),p=(0,h.v9)(e=>e.token.value),x=(0,h.v9)(e=>e.uid.value),j=(0,h.v9)(e=>e.role.value);return(0,a.useEffect)(()=>{e.isReady&&(async()=>{if(1*j==2?o((0,n.jsx)(v.Z,{route:"/userFolder/".concat(i,"/").concat(t,"/Form"),children:" I've Finished "},1)):1*j==1&&f((0,n.jsx)(v.Z,{disabled:"true",route:"/userFolder/".concat(i,"/").concat(t,"/AddFiles"),children:" + AddFiles "},2)),i==x||1==j){let a=await (0,w.fetchFun)("/userFolder/".concat(i,"/").concat(t),"GET",{},p);if(401===a)e.push("/Login");else{console.log(a);let e=a.map(e=>(0,n.jsx)(y,{idFile:e.idFile,file_name:e.file_name,file_data:e.file_data,file_type:e.file_type},e.idFile));l(e)}}else e.push("/userFolder/".concat(x))})()},[e.isReady]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(g.Z,{children:[r,u,(0,n.jsxs)(d.Z,{gap:2,style:{flexDirection:"column"},children:[(0,n.jsx)("br",{}),c]})]})})}},3414:function(){},172:function(){},2001:function(){},3779:function(){},2258:function(){}},function(e){e.O(0,[577,676,570,764,799,803,774,888,179],function(){return e(e.s=5141)}),_N_E=e.O()}]);